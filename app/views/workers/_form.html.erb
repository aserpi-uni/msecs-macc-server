<%= form_with(model: worker, local: true) do |form| %>
  <%= render 'error_messages', resource: worker %>

  <div class="form-group floating-label">
    <%= form.label :email %>
    <%= form.email_field :email, class: "form-control", placeholder: true %>
  </div>
  <div class="custom-control custom-switch">
    <%= form.check_box "worker_#{worker.id}",
                       name: "workers[#{worker.id}]",
                       checked: @workspace.workers.exists?(worker.id),
                       class: "custom-control-input" %>

    <span class="custom-control-track"></span>

    <%= form.label "worker_#{worker.id}", class: "custom-control-label" do %>
      <%= link_to worker.email, worker %>
    <% end %>
  </div>

  <% if password %>
    <div class="form-group floating-label">
      <%= form.label :password %>
      <%= form.password_field :password, class: "form-control", placeholder: true %>
    </div>

    <div class="form-group floating-label">
      <%= form.label :password_confirmation %>
      <%= form.password_field :password_confirmation, class: "form-control", placeholder: true %>
    </div>
  <% end %>

  <%= form.submit submit_label, class: "btn btn-primary" %>
<% end %>
